<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
</h:head>
<h:body>

<style>
	
	body {
		background-color: #B2EBF2;
	}
	
	.ui-widget-content {
		background-color: rgb(211,244, 248);
	    border: rgb(211,244, 248);
		padding: 10px;
		border-radius: 10px;
	}
	.header {
		text-align: right;
	}
	.table {
		width: 300px;
	}


</style>

		<h:form>
		<ui:fragment rendered="#{!loginBean.logado}">
			<div class="header">
				<p:outputLabel class="login-header" value="Email:"></p:outputLabel>
				<p:inputText style="width:100px" value="#{loginBean.email}"></p:inputText>

				<p:outputLabel class="login-header" value="Senha:"></p:outputLabel>
				<p:password style="width:100px; margin-right: 10px;" value="#{loginBean.senha}"></p:password>

				<p:commandButton value="Login" actionListener="#{loginBean.autentica()}"></p:commandButton>
			</div>
			<div class="header">
				<p:commandButton value="Cadastrar" actionListener="#{usuarioBean.abreCadastroUsuario()}"></p:commandButton>
			</div>
		</ui:fragment>
		<ui:fragment rendered="#{loginBean.logado}">
			<div class="header-nome">
				<p:outputLabel value="Bem vindo, #{loginBean.usuarioLogado.nome}"></p:outputLabel>
			</div>
			<div class="header">
				<p:commandButton value="Logout" actionListener="#{loginBean.logout()}"></p:commandButton>
			</div>
		</ui:fragment>

			<div id="produtos">
				<p:dataGrid id="table" var="entity"
							value="#{produtoBean.produtos}" columns="2"
							emptyMessage="Sem produtos para troca">
					<p:panel style="background-color: #cccccc;">
						<h:outputText value="Nome: #{entity.nome}" />
						<br></br>
						<p:commandLink styleClass="button"
									   actionListener="#{produtoBean.visualizarProduto()}"
									   title="Visualizar" value="Visualizar">
							<f:param name="entity" value="#{entity}" />
						</p:commandLink>
						<br></br>
						<p:commandLink styleClass="button"
									   actionListener="#{produtoBean.trocarProduto()}"
									   title="Trocar" value="Trocar">
							<f:param name="entity" value="#{entity}" />
						</p:commandLink>
					</p:panel>
				</p:dataGrid>
			</div>

		</h:form>

</h:body>
</html>